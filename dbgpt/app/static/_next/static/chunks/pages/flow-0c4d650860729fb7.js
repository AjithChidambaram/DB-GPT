(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3575],{27704:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(87462),a=r(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},i=r(84089),o=a.forwardRef(function(e,t){return a.createElement(i.Z,(0,n.Z)({},e,{ref:t,icon:l}))})},28058:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(87462),a=r(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},i=r(84089),o=a.forwardRef(function(e,t){return a.createElement(i.Z,(0,n.Z)({},e,{ref:t,icon:l}))})},96074:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(94184),a=r.n(n),l=r(67294),i=r(53124),o=r(14747),s=r(67968),c=r(45503);let d=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:n,lineWidth:a}=e;return{[t]:Object.assign(Object.assign({},(0,o.Wf)(e)),{borderBlockStart:`${a}px solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${e.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${a}px solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${e.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${e.dividerHorizontalWithTextGutterMargin}px 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${a}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${t}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${a}px 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}};var m=(0,s.Z)("Divider",e=>{let t=(0,c.TS)(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[d(t)]},{sizePaddingEdgeHorizontal:0}),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},h=e=>{let{getPrefixCls:t,direction:r,divider:n}=l.useContext(i.E_),{prefixCls:o,type:s="horizontal",orientation:c="center",orientationMargin:d,className:h,rootClassName:f,children:g,dashed:p,plain:x,style:v}=e,b=u(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),w=t("divider",o),[y,E]=m(w),$=c.length>0?`-${c}`:c,j=!!g,k="left"===c&&null!=d,z="right"===c&&null!=d,N=a()(w,null==n?void 0:n.className,E,`${w}-${s}`,{[`${w}-with-text`]:j,[`${w}-with-text${$}`]:j,[`${w}-dashed`]:!!p,[`${w}-plain`]:!!x,[`${w}-rtl`]:"rtl"===r,[`${w}-no-default-orientation-margin-left`]:k,[`${w}-no-default-orientation-margin-right`]:z},h,f),_=l.useMemo(()=>"number"==typeof d?d:/^\d+$/.test(d)?Number(d):d,[d]),H=Object.assign(Object.assign({},k&&{marginLeft:_}),z&&{marginRight:_});return y(l.createElement("div",Object.assign({className:N,style:Object.assign(Object.assign({},null==n?void 0:n.style),v)},b,{role:"separator"}),g&&"vertical"!==s&&l.createElement("span",{className:`${w}-inner-text`,style:H},g)))}},32983:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(94184),a=r.n(n),l=r(67294),i=r(53124),o=r(10110),s=r(10274),c=r(25976),d=r(67968),m=r(45503);let u=e=>{let{componentCls:t,margin:r,marginXS:n,marginXL:a,fontSize:l,lineHeight:i}=e;return{[t]:{marginInline:n,fontSize:l,lineHeight:i,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:n,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorText},[`${t}-footer`]:{marginTop:r},"&-normal":{marginBlock:a,color:e.colorTextDisabled,[`${t}-description`]:{color:e.colorTextDisabled},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:n,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}};var h=(0,d.Z)("Empty",e=>{let{componentCls:t,controlHeightLG:r}=e,n=(0,m.TS)(e,{emptyImgCls:`${t}-img`,emptyImgHeight:2.5*r,emptyImgHeightMD:r,emptyImgHeightSM:.875*r});return[u(n)]}),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let g=l.createElement(()=>{let[,e]=(0,c.Z)(),t=new s.C(e.colorBgBase),r=t.toHsl().l<.5?{opacity:.65}:{};return l.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{transform:"translate(24 31.67)"},l.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),l.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),l.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),l.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),l.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),l.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),l.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},l.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),l.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},null),p=l.createElement(()=>{let[,e]=(0,c.Z)(),{colorFill:t,colorFillTertiary:r,colorFillQuaternary:n,colorBgContainer:a}=e,{borderColor:i,shadowColor:o,contentColor:d}=(0,l.useMemo)(()=>({borderColor:new s.C(t).onBackground(a).toHexShortString(),shadowColor:new s.C(r).onBackground(a).toHexShortString(),contentColor:new s.C(n).onBackground(a).toHexShortString()}),[t,r,n,a]);return l.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},l.createElement("ellipse",{fill:o,cx:"32",cy:"33",rx:"32",ry:"7"}),l.createElement("g",{fillRule:"nonzero",stroke:i},l.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),l.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:d}))))},null),x=e=>{var{className:t,rootClassName:r,prefixCls:n,image:s=g,description:c,children:d,imageStyle:m,style:u}=e,x=f(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);let{getPrefixCls:v,direction:b,empty:w}=l.useContext(i.E_),y=v("empty",n),[E,$]=h(y),[j]=(0,o.Z)("Empty"),k=void 0!==c?c:null==j?void 0:j.description,z="string"==typeof k?k:"empty",N=null;return N="string"==typeof s?l.createElement("img",{alt:z,src:s}):s,E(l.createElement("div",Object.assign({className:a()($,y,null==w?void 0:w.className,{[`${y}-normal`]:s===p,[`${y}-rtl`]:"rtl"===b},t,r),style:Object.assign(Object.assign({},null==w?void 0:w.style),u)},x),l.createElement("div",{className:`${y}-image`,style:m},N),k&&l.createElement("div",{className:`${y}-description`},k),d&&l.createElement("div",{className:`${y}-footer`},d)))};x.PRESENTED_IMAGE_DEFAULT=g,x.PRESENTED_IMAGE_SIMPLE=p;var v=x},48907:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/flow",function(){return r(75916)}])},45247:function(e,t,r){"use strict";var n=r(85893),a=r(50888);t.Z=function(e){let{visible:t}=e;return t?(0,n.jsx)("div",{className:"absolute w-full h-full top-0 left-0 flex justify-center items-center z-10 bg-white dark:bg-black bg-opacity-50 dark:bg-opacity-50 backdrop-blur-sm text-3xl animate-fade animate-duration-200",children:(0,n.jsx)(a.Z,{})}):null}},99743:function(e,t,r){"use strict";var n=r(85893);r(67294);var a=r(36851);t.Z=e=>{let{id:t,sourceX:r,sourceY:l,targetX:i,targetY:o,sourcePosition:s,targetPosition:c,style:d={},data:m,markerEnd:u}=e,[h,f,g]=(0,a.OQ)({sourceX:r,sourceY:l,sourcePosition:s,targetX:i,targetY:o,targetPosition:c}),p=(0,a._K)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.u5,{id:t,style:d,path:h,markerEnd:u}),(0,n.jsx)("foreignObject",{width:40,height:40,x:f-20,y:g-20,className:"bg-transparent w-10 h-10 relative",requiredExtensions:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)("button",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-stone-400 dark:bg-zinc-700 cursor-pointer text-sm",onClick:e=>{e.stopPropagation(),p.setEdges(p.getEdges().filter(e=>e.id!==t))},children:"\xd7"})})]})}},23391:function(e,t,r){"use strict";var n=r(85893);r(67294);var a=r(36851),l=r(59819),i=r(99743),o=r(67919);r(4583),t.Z=e=>{let{flowData:t,minZoom:r}=e,s=(0,o.z5)(t);return(0,n.jsx)(a.x$,{nodes:s.nodes,edges:s.edges,edgeTypes:{buttonedge:i.Z},fitView:!0,minZoom:r||.1,children:(0,n.jsx)(l.A,{color:"#aaa",gap:16})})}},75916:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(85893),a=r(43893),l=r(45247),i=r(27704),o=r(28058),s=r(36147),c=r(96074),d=r(67294),m=r(67421),u=r(23391),h=r(11163),f=e=>{let{flow:t,deleteCallback:r}=e,{t:l}=(0,m.$G)(),[d,f]=s.default.useModal(),g=(0,h.useRouter)();async function p(){let[,,e]=await (0,a.Vx)((0,a.Jq)(t.uid));(null==e?void 0:e.success)&&r&&r(t.uid)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative flex flex-col p-4 w-96 rounded justify-between cursor-pointer text-black bg-white shadow-[0_8px_16px_-10px_rgba(100,100,100,.08)] hover:shadow-[0_14px_20px_-10px_rgba(100,100,100,.15)] dark:bg-[#232734] dark:text-white dark:hover:border-white transition-[transfrom_shadow] duration-300 hover:-translate-y-1",onClick:function(){g.push("/flow/canvas?id="+t.uid)},children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:t.name}),(0,n.jsx)("h3",{className:"text-stone-500 text-sm line-clamp-2",children:t.description}),(0,n.jsx)(c.Z,{className:"my-2"}),(0,n.jsx)("div",{className:"w-full h-[150px]",children:(0,n.jsx)(u.Z,{flowData:t.flow_data})})]})}),(0,n.jsx)(i.Z,{className:"absolute top-4 right-4 text-[#ff1b2e] !text-lg",onClick:e=>{e.preventDefault(),e.stopPropagation(),d.confirm({title:l("Tips"),icon:(0,n.jsx)(o.Z,{}),content:l("delete_flow_confirm"),okText:"Yes",okType:"danger",cancelText:"No",async onOk(){p()}})}})]}),f]})},g=r(24969),p=r(71577),x=r(32983),v=r(41664),b=r.n(v),w=function(){let[e,t]=(0,d.useState)(!1),[r,i]=(0,d.useState)([]);async function o(){var e;t(!0);let[r,n]=await (0,a.Vx)((0,a.Wf)());t(!1),i(null!==(e=null==n?void 0:n.items)&&void 0!==e?e:[])}function s(e){i(t=>t.filter(t=>t.uid!==e))}return(0,d.useEffect)(()=>{o()},[]),(0,n.jsxs)("div",{className:"relative p-4 md:p-6 bg-[#FAFAFA] dark:bg-transparent min-h-full overflow-y-auto",children:[(0,n.jsx)(l.Z,{visible:e}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(b(),{href:"/flow/canvas",children:(0,n.jsx)(p.ZP,{type:"primary",className:"flex items-center",icon:(0,n.jsx)(g.Z,{}),children:"New AWEL Flow"})})}),(0,n.jsxs)("div",{className:"min-h-[600px] flex flex-wrap gap-2 md:gap-4 justify-start items-start",children:[r.map(e=>(0,n.jsx)(f,{flow:e,deleteCallback:s},e.uid)),0===r.length&&(0,n.jsx)(x.Z,{description:"No flow found"})]})]})}},67919:function(e,t,r){"use strict";r.d(t,{Rv:function(){return i},VZ:function(){return n},Wf:function(){return a},z5:function(){return l}});let n=(e,t)=>{let r=0;return t.forEach(t=>{t.data.name===e.name&&r++}),"".concat(e.id,"_").concat(r)},a=e=>{let{nodes:t,edges:r,...n}=e,a=t.map(e=>{let{positionAbsolute:t,...r}=e;return{position_absolute:t,...r}}),l=r.map(e=>{let{sourceHandle:t,targetHandle:r,...n}=e;return{source_handle:t,target_handle:r,...n}});return{nodes:a,edges:l,...n}},l=e=>{let{nodes:t,edges:r,...n}=e,a=t.map(e=>{let{position_absolute:t,...r}=e;return{positionAbsolute:t,...r}}),l=r.map(e=>{let{source_handle:t,target_handle:r,...n}=e;return{sourceHandle:t,targetHandle:r,...n}});return{nodes:a,edges:l,...n}},i=e=>{let{nodes:t,edges:r}=e,n=[!0,t[0],""];e:for(let e=0;e<t.length;e++){let a=t[e].data,{inputs:l=[],parameters:i=[]}=a;for(let i=0;i<l.length;i++)if(!r.some(r=>r.targetHandle==="".concat(t[e].id,"|inputs|").concat(i))){n=[!1,t[e],"The input ".concat(l[i].type_name," of node ").concat(a.label," is required")];break e}for(let l=0;l<i.length;l++){let o=i[l];if(o.optional||"resource"!==o.category||r.some(r=>r.targetHandle==="".concat(t[e].id,"|parameters|").concat(l))){if(!o.optional&&"common"===o.category&&(void 0===o.value||null===o.value)){n=[!1,t[e],"The parameter ".concat(o.type_name," of node ").concat(a.label," is required")];break e}}else{n=[!1,t[e],"The parameter ".concat(o.type_name," of node ").concat(a.label," is required")];break e}}}return n}}},function(e){e.O(0,[8241,7434,9924,9774,2888,179],function(){return e(e.s=48907)}),_N_E=e.O()}]);