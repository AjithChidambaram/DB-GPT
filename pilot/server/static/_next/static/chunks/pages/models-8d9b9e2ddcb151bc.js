(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{22624:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var l=r(n(64938)),a=n(85893),o=(0,l.default)([(0,a.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,a.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,a.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"2"),(0,a.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"3"),(0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-2.5c2.33 0 4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2s-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5z"},"4")],"SentimentSatisfiedAlt");t.Z=o},49769:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var l=r(n(64938)),a=n(85893),o=(0,l.default)([(0,a.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,a.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"},"2")],"SentimentVeryDissatisfied");t.Z=o},98034:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var l=r(n(64938)),a=n(85893),o=(0,l.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");t.Z=o},64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(52869)},52869:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return l.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return i},deprecatedPropType:function(){return s},isMuiElement:function(){return c},ownerDocument:function(){return d},ownerWindow:function(){return u},requirePropFactory:function(){return p},setRef:function(){return m},unstable_ClassNameGenerator:function(){return j},unstable_useEnhancedEffect:function(){return f},unstable_useId:function(){return h},unsupportedProp:function(){return b},useControlled:function(){return x},useEventCallback:function(){return v},useForkRef:function(){return g},useIsFocusVisible:function(){return y}});var r=n(37078),l=n(98216),a=function(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})},o=n(34678),i=n(39336).Z,s=function(e,t){return()=>null},c=n(18719).Z,d=n(82690).Z,u=n(74161).Z;n(87462);var p=function(e,t){return()=>null},m=n(7960).Z,f=n(73546).Z,h=n(92996).Z,b=function(e,t,n,r,l){return null},x=n(19032).Z,v=n(59948).Z,g=n(33703).Z,y=n(99962).Z;let j={configure:e=>{r.Z.configure(e)}}},84567:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(94184),l=n.n(r),a=n(50132),o=n(67294),i=n(53124),s=n(98866),c=n(65223);let d=o.createContext(null);var u=n(63185),p=n(45353),m=n(17415),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]]);return n};let h=o.forwardRef((e,t)=>{var n;let{prefixCls:r,className:h,rootClassName:b,children:x,indeterminate:v=!1,style:g,onMouseEnter:y,onMouseLeave:j,skipGroup:C=!1,disabled:w}=e,k=f(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:$,direction:_,checkbox:S}=o.useContext(i.E_),Z=o.useContext(d),{isFormItemInput:N}=o.useContext(c.aM),O=o.useContext(s.Z),E=null!==(n=(null==Z?void 0:Z.disabled)||w)&&void 0!==n?n:O,P=o.useRef(k.value);o.useEffect(()=>{null==Z||Z.registerValue(k.value)},[]),o.useEffect(()=>{if(!C)return k.value!==P.current&&(null==Z||Z.cancelValue(P.current),null==Z||Z.registerValue(k.value),P.current=k.value),()=>null==Z?void 0:Z.cancelValue(k.value)},[k.value]);let M=$("checkbox",r),[I,z]=(0,u.ZP)(M),V=Object.assign({},k);Z&&!C&&(V.onChange=function(){k.onChange&&k.onChange.apply(k,arguments),Z.toggleOption&&Z.toggleOption({label:x,value:k.value})},V.name=Z.name,V.checked=Z.value.includes(k.value));let D=l()(`${M}-wrapper`,{[`${M}-rtl`]:"rtl"===_,[`${M}-wrapper-checked`]:V.checked,[`${M}-wrapper-disabled`]:E,[`${M}-wrapper-in-form-item`]:N},null==S?void 0:S.className,h,b,z),H=l()({[`${M}-indeterminate`]:v},m.A,z);return I(o.createElement(p.Z,{component:"Checkbox",disabled:E},o.createElement("label",{className:D,style:Object.assign(Object.assign({},null==S?void 0:S.style),g),onMouseEnter:y,onMouseLeave:j},o.createElement(a.Z,Object.assign({"aria-checked":v?"mixed":void 0},V,{prefixCls:M,className:H,disabled:E,ref:t})),void 0!==x&&o.createElement("span",null,x))))});var b=n(74902),x=n(98423),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]]);return n};let g=o.forwardRef((e,t)=>{let{defaultValue:n,children:r,options:a=[],prefixCls:s,className:c,rootClassName:p,style:m,onChange:f}=e,g=v(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:y,direction:j}=o.useContext(i.E_),[C,w]=o.useState(g.value||n||[]),[k,$]=o.useState([]);o.useEffect(()=>{"value"in g&&w(g.value||[])},[g.value]);let _=o.useMemo(()=>a.map(e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e),[a]),S=y("checkbox",s),Z=`${S}-group`,[N,O]=(0,u.ZP)(S),E=(0,x.Z)(g,["value","disabled"]),P=a.length?_.map(e=>o.createElement(h,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:g.disabled,value:e.value,checked:C.includes(e.value),onChange:e.onChange,className:`${Z}-item`,style:e.style,title:e.title},e.label)):r,M={toggleOption:e=>{let t=C.indexOf(e.value),n=(0,b.Z)(C);-1===t?n.push(e.value):n.splice(t,1),"value"in g||w(n),null==f||f(n.filter(e=>k.includes(e)).sort((e,t)=>{let n=_.findIndex(t=>t.value===e),r=_.findIndex(e=>e.value===t);return n-r}))},value:C,disabled:g.disabled,name:g.name,registerValue:e=>{$(t=>[].concat((0,b.Z)(t),[e]))},cancelValue:e=>{$(t=>t.filter(t=>t!==e))}},I=l()(Z,{[`${Z}-rtl`]:"rtl"===j},c,p,O);return N(o.createElement("div",Object.assign({className:I,style:m},E,{ref:t}),o.createElement(d.Provider,{value:M},P)))});var y=o.memo(g);h.Group=y,h.__ANT_CHECKBOX=!0;var j=h},63185:function(e,t,n){"use strict";n.d(t,{C2:function(){return i}});var r=n(14747),l=n(45503),a=n(67968);let o=e=>{let{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,r.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,r.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,r.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,r.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function i(e,t){let n=(0,l.TS)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[o(n)]}t.ZP=(0,a.Z)("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[i(n,e)]})},80476:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models",function(){return n(93167)}])},81799:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(85893),l=n(41468),a=n(51009),o=n(75957),i=n(25675),s=n.n(i),c=n(67294),d=n(67421);function u(e,t){var n;let{width:l,height:a}=t||{};return e?(0,r.jsx)(s(),{className:"rounded-full border border-gray-200 object-contain bg-white inline-block",width:l||24,height:a||24,src:(null===(n=o.Hf[e])||void 0===n?void 0:n.icon)||"/models/huggingface.svg",alt:"llm"}):null}t.Z=function(e){let{onChange:t}=e,{t:n}=(0,d.$G)(),{modelList:i,model:s}=(0,c.useContext)(l.p);return!i||i.length<=0?null:(0,r.jsx)(a.default,{value:s,placeholder:n("choose_model"),className:"w-52",onChange:e=>{null==t||t(e)},children:i.map(e=>{var t;return(0,r.jsx)(a.default.Option,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[u(e),(0,r.jsx)("span",{className:"ml-2",children:(null===(t=o.Hf[e])||void 0===t?void 0:t.label)||e})]})},e)})})}},93167:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(85893),l=n(92401),a=n(67294),o=n(67421),i=n(22624),s=n(49769),c=n(98034),d=n(2453),u=n(83062),p=n(30381),m=n.n(p),f=n(81799),h=function(e){let{info:t}=e,{t:n}=(0,o.$G)(),[p,h]=(0,a.useState)(!1);async function b(e){if(p)return;h(!0);let[,t]=await (0,l.Vx)((0,l.kU)({host:e.host,port:e.port,model:e.model_name,worker_type:e.model_type,params:{}}));h(!1),!0===t&&d.ZP.success(n("stop_model_success"))}return(0,r.jsx)("div",{className:"relative flex flex-col py-4 px-4 sm:w-1/2 lg:w-1/3 min-w-min rounded-lg justify-between text-black bg-white border-gray-200 border hover:shadow-md dark:border-gray-600 dark:bg-black dark:text-white dark:hover:border-white transition-all",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[t.healthy&&(0,r.jsx)(u.Z,{title:"Healthy",children:(0,r.jsx)(i.Z,{className:"absolute top-4 right-4 !text-3xl !text-green-600"})}),!t.healthy&&(0,r.jsx)(u.Z,{title:"Unhealthy",children:(0,r.jsx)(s.Z,{className:"absolute top-4 right-4 !text-3xl !text-red-600"})}),(0,r.jsx)(u.Z,{title:"Stop Model",children:(0,r.jsx)(c.Z,{className:"absolute right-4 bottom-4 !text-3xl !text-orange-600 cursor-pointer",onClick:()=>{b(t)}})}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,f.A)(t.model_name,{width:32,height:32}),(0,r.jsxs)("div",{className:"inline-block ml-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:t.model_name}),(0,r.jsx)("h3",{className:"text-sm text-gray-800 dark:text-gray-400",children:t.model_type})]})]}),(0,r.jsxs)("div",{className:"text-sm mt-2",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Host:"}),(0,r.jsx)("p",{className:"text-gray-600",children:t.host}),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"Manage host:"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[(0,r.jsxs)("span",{children:[t.manager_host,":"]}),(0,r.jsx)("span",{children:t.manager_port})]}),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"Last heart beat:"}),(0,r.jsx)("p",{className:"text-gray-600",children:m()(t.last_heartbeat).format("YYYY-MM-DD HH:MM:SS")})]})]})})})},b=n(51009),x=n(39479),v=n(71577),g=n(59566),y=n(48928),j=n(84567),C=function(e){let{params:t,form:n}=e;return((0,a.useEffect)(()=>{if(t){let e={};t.forEach(t=>{e[t.param_name]=t.default_value}),n.setFieldsValue(e)}},[t,n]),!t||(null==t?void 0:t.length)<1)?null:(0,r.jsx)(r.Fragment,{children:null==t?void 0:t.map(e=>{var t;return(0,r.jsx)(x.Z.Item,{label:(0,r.jsx)("p",{className:"whitespace-normal overflow-wrap-break-word",children:(null===(t=e.description)||void 0===t?void 0:t.length)>20?e.param_name:e.description}),name:e.param_name,initialValue:e.default_value,valuePropName:"bool"===e.param_type?"checked":"value",tooltip:e.description,rules:[{required:e.required,message:"Please input ".concat(e.description)}],children:function(e){switch(e.param_type){case"str":return(0,r.jsx)(g.default,{});case"int":return(0,r.jsx)(y.Z,{});case"bool":return(0,r.jsx)(j.Z,{})}}(e)},e.param_name)})})};let{Option:w}=b.default;var k=function(e){let{onCancel:t,onSuccess:n}=e,{t:i}=(0,o.$G)(),[s,c]=(0,a.useState)([]),[p,m]=(0,a.useState)(),[h,g]=(0,a.useState)(null),[y]=x.Z.useForm();async function j(){let[,e]=await (0,l.Vx)((0,l.xv)());e&&e.length&&c(e.sort((e,t)=>e.enabled&&!t.enabled?-1:!e.enabled&&t.enabled?1:e.model.localeCompare(t.model))),c(e)}async function k(e){if(!p)return;delete e.model;let[,t]=await (0,l.Vx)((0,l.vA)({host:p.host,port:p.port,model:p.model,worker_type:null==p?void 0:p.worker_type,params:e}));if(!0===t)return n(),d.ZP.success(i("start_model_success"))}return(0,a.useEffect)(()=>{j()},[]),(0,r.jsx)("div",{className:"",children:(0,r.jsxs)(x.Z,{labelCol:{span:8},wrapperCol:{span:16},onFinish:k,form:y,children:[(0,r.jsx)(x.Z.Item,{label:"Model",name:"model",rules:[{required:!0,message:i("model_select_tips")}],children:(0,r.jsx)(b.default,{showSearch:!0,onChange:function(e,t){m(t.model),g(t.model.params)},children:null==s?void 0:s.map(e=>(0,r.jsxs)(w,{value:e.model,label:e.model,model:e,disabled:!e.enabled,children:[(0,f.A)(e.model),(0,r.jsx)(u.Z,{title:e.enabled?e.model:i("download_model_tip"),children:(0,r.jsx)("span",{className:"ml-2",children:e.model})}),(0,r.jsx)(u.Z,{title:e.enabled?"".concat(e.host,":").concat(e.port):i("download_model_tip"),children:(0,r.jsxs)("p",{className:"inline-block absolute right-4",children:[(0,r.jsxs)("span",{children:[e.host,":"]}),(0,r.jsx)("span",{children:e.port})]})})]},e.model))})}),(0,r.jsx)(C,{params:h,form:y}),(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)(v.ZP,{type:"primary",htmlType:"submit",children:i("submit")}),(0,r.jsx)(v.ZP,{className:"ml-10",onClick:t,children:"Cancel"})]})]})})},$=n(12069),_=function(){let{t:e}=(0,o.$G)(),[t,n]=(0,a.useState)([]),[i,s]=(0,a.useState)(!1);async function c(){let[,e]=await (0,l.Vx)((0,l.fZ)());n(null!=e?e:[])}return(0,a.useEffect)(()=>{c()},[]),(0,r.jsxs)("div",{className:"p-8 h-full",children:[(0,r.jsx)(v.ZP,{className:"mb-8",type:"primary",onClick:()=>{s(!0)},children:e("create_model")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-4",children:t.map(e=>(0,r.jsx)(h,{info:e},e.model_name))}),(0,r.jsx)($.default,{width:800,open:i,title:e("create_model"),onCancel:()=>{s(!1)},footer:null,children:(0,r.jsx)(k,{onCancel:()=>{s(!1)},onSuccess:()=>{s(!1),c()}})})]})}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[885,44,479,9,815,928,774,888,179],function(){return e(e.s=80476)}),_N_E=e.O()}]);